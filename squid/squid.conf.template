# Squid Proxy Configuration for L.I.S.A.
# This file is auto-generated. Do not edit manually.
# Edit via CTAPT.py or O6HOBA.py

# --- Base Configuration ---
http_port 3128
via on
forwarded_for off

# Allow Docker networks and localhost
acl localnet src 127.0.0.1/32
acl localnet src 10.0.0.0/8
acl localnet src 172.16.0.0/12
acl localnet src 192.168.0.0/16
http_access allow localnet
http_access deny all

# --- Parent Proxy Configuration ---
cache_peer {PROXY_IP} parent {PROXY_PORT} 0 login={PROXY_USER}:{PROXY_PASS} name=paidproxy

# --- Route API domains via parent proxy ---
acl to_proxy dstdomain .anthropic.com .claude.ai
acl to_proxy dstdomain .openai.com .api.openai.com
acl to_proxy dstdomain .openrouter.ai
acl to_proxy dstdomain .x.ai api.x.ai
acl to_proxy dstdomain .googleapis.com generativelanguage.googleapis.com

cache_peer_access paidproxy allow to_proxy
cache_peer_access paidproxy deny all
never_direct allow to_proxy
always_direct deny to_proxy

# --- DNS Configuration ---
dns_nameservers 1.1.1.1 8.8.8.8
